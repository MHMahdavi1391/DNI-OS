<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>DNI OS</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root{
  --glass: rgba(255,255,255,0.18);
  --border: rgba(255,255,255,0.25);
  --blur: blur(20px);
  --bg-img: url("https://images.unsplash.com/photo-1517336714731-489689fd1ca8?auto=format&fit=crop&w=1470&q=80");
  --accent: #4da3ff;
}

/* Reset */
*{box-sizing:border-box;font-family:Segoe UI,Arial;margin:0;padding:0;}
body{
  height:100vh; overflow:hidden;
  background: var(--bg-img) center/cover no-repeat;
  color:white;
}

/* Desktop */
#desktop{position:absolute; inset:0; padding:20px;}

/* Taskbar */
#taskbar{
  position:absolute;
  bottom:12px; left:50%; transform:translateX(-50%);
  height:56px; padding:0 16px;
  display:flex; gap:12px; align-items:center;
  background: rgba(255,255,255,0.12); backdrop-filter: blur(25px) saturate(180%);
  border-radius:20px; border:1px solid rgba(255,255,255,0.25);
  box-shadow:0 8px 20px rgba(0,0,0,0.4), 0 0 10px rgba(255,255,255,0.05) inset;
}

/* Task Icons */
.task-icon{
  width:42px; height:42px;
  border-radius:12px;
  display:flex; justify-content:center; align-items:center;
  font-size:20px; cursor:pointer;
  transition: all 0.15s ease-in-out;
}
.task-icon:hover{transform:scale(1.1);}

/* Window */
.window{
  position:absolute; width:320px; top:120px; left:120px;
  background: rgba(255,255,255,0.15); backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border-radius:16px; border:1px solid rgba(255,255,255,0.25);
  box-shadow:0 20px 40px rgba(0,0,0,.4),0 0 15px rgba(255,255,255,0.05) inset;
  transition: all 0.2s ease-in-out;
}

/* Hover effect */
.window:hover{
  backdrop-filter: blur(25px) saturate(200%);
  transform: translateY(-2px);
  box-shadow:0 30px 60px rgba(0,0,0,0.5),0 0 20px rgba(255,255,255,0.08) inset;
}

/* Header */
.header{
  height:42px; display:flex; align-items:center; padding:0 12px; cursor:move;
  background: rgba(255,255,255,0.08); backdrop-filter: blur(15px) saturate(150%);
  -webkit-backdrop-filter: blur(15px) saturate(150%);
  border-bottom:1px solid rgba(255,255,255,0.2);
  border-radius:16px 16px 0 0;
}
.btns{display:flex; gap:8px;}
.btn{width:12px;height:12px;border-radius:50%;box-shadow:0 1px 2px rgba(0,0,0,0.2);transition:all 0.15s ease-in-out;}
.btn:hover{transform:scale(1.2);box-shadow:0 2px 4px rgba(0,0,0,0.3);}
.close{background:#ff5f57;}
.min{background:#ffbd2e;}
.max{background:#28c840;}
.title{margin:auto;font-size:13px;opacity:.85;}
.content{padding:14px;font-size:13px;background: rgba(255,255,255,0.05);border-radius:8px;}

/* Fullscreen */
.window.fullscreen{
  top:20px !important;
  left:20px !important;
  width:calc(100% - 40px) !important;
  height:calc(100% - 100px) !important;
}

/* Light Theme */
body.light{
  --glass: rgba(255,255,255,0.45);
  --border: rgba(0,0,0,0.15);
  color:#111;
  background: url("https://images.unsplash.com/photo-1503264116251-35a269479413") center/cover no-repeat;
}
</style>
</head>
<body>
<div id="desktop"></div>

<div id="taskbar">
  <div class="task-icon" onclick="openApp('status')">üñ•Ô∏è</div>
  <div class="task-icon" onclick="openApp('rgb')">üåà</div>
  <div class="task-icon" onclick="openApp('network')">üåê</div>
  <div class="task-icon" onclick="openApp('notepad')">üìù</div>
</div>

<script>
let zIndex = 10;
let windows = {};
let taskItems = {};

/* ==== ÿ®ÿßÿ≤ ⁄©ÿ±ÿØŸÜ ÿßŸæ ==== */
function openApp(type){
  if(windows[type]){
    restoreWindow(type);
    return;
  }
  let title="", body="";
  if(type==="status"){title="System Monitor"; body="CPU: 34%<br>RAM: 61%<br>WiFi: OK";}
  if(type==="rgb"){title="RGB Control"; body="<input type='color' onchange='alert(this.value)'>";}
  if(type==="network"){title="Network Info"; body="IP: 192.168.1.100<br>SSID: DNI-Network";}
  if(type==="notepad"){title="Notepad"; body="<textarea style='width:100%;height:120px;background:rgba(255,255,255,0.1);color:white;border:none;border-radius:8px;padding:8px'></textarea>";}
  createWindow(type,title,body);
}

/* ==== ÿß€åÿ¨ÿßÿØ ŸæŸÜÿ¨ÿ±Ÿá ==== */
function createWindow(id,title,body){
  const win=document.createElement("div");
  win.className="window"; win.style.zIndex=++zIndex; win.style.left="120px"; win.style.top="120px";
  win.innerHTML=`<div class="header"><div class="btns"><div class="btn close"></div><div class="btn min"></div><div class="btn max"></div></div><div class="title">${title}</div></div><div class="content">${body}</div>`;
  document.getElementById("desktop").appendChild(win);
  windows[id]=win;

  // ÿ™ÿ≥⁄©‚Äåÿ®ÿßÿ±
  const taskIcon=document.createElement("div");
  taskIcon.className="task-icon"; taskIcon.innerText=title[0]; taskIcon.onclick=()=>restoreWindow(id);
  document.getElementById("taskbar").appendChild(taskIcon);
  taskItems[id]=taskIcon;

  drag(win);

  win.querySelector(".close").onclick=()=>{win.remove(); taskIcon.remove(); delete windows[id]; delete taskItems[id];};
  win.querySelector(".min").onclick=()=>win.style.display="none";
  win.querySelector(".max").onclick=()=>{ 
    if(!win.classList.contains("fullscreen")){
      win.dataset.oldLeft=win.style.left; win.dataset.oldTop=win.style.top;
      win.dataset.oldWidth=win.style.width; win.dataset.oldHeight=win.style.height;
      win.classList.add("fullscreen"); win.style.left="20px"; win.style.top="20px";
      win.style.width="calc(100% - 40px)"; win.style.height="calc(100% - 100px)";
    } else {
      win.classList.remove("fullscreen"); win.style.left=win.dataset.oldLeft;
      win.style.top=win.dataset.oldTop; win.style.width=win.dataset.oldWidth; win.style.height=win.dataset.oldHeight;
    }
  };
}

/* ==== ÿ®ÿßÿ≤€åÿßÿ®€å ŸæŸÜÿ¨ÿ±Ÿá ==== */
function restoreWindow(id){
  const win=windows[id]; win.style.display="block"; win.style.zIndex=++zIndex;
}

/* ==== ÿØÿ±⁄Ø ==== */
function drag(win){
  const h=win.querySelector(".header"); let offsetX=0, offsetY=0, startX=0, startY=0;
  h.onmousedown=e=>{
    startX=e.clientX; startY=e.clientY;
    offsetX=parseInt(win.style.left||120); offsetY=parseInt(win.style.top||120);
    document.onmousemove=move; document.onmouseup=stop;
  };
  function move(e){ let dx=e.clientX-startX; let dy=e.clientY-startY; win.style.left=offsetX+dx+"px"; win.style.top=offsetY+dy+"px";}
  function stop(){document.onmousemove=null;}
}

/* ==== ÿ™ÿ∫€å€åÿ± ÿ™ŸÖ ==== */
document.addEventListener("keydown",e=>{if(e.key==="t"||e.key==="T"){document.body.classList.toggle("light");}});
</script>

</body>
</html>
